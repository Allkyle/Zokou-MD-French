const a67_0x51db80=a67_0x3b03;(function(_0x35b328,_0x89ff94){const _0x208920=a67_0x3b03,_0x5a787e=_0x35b328();while(!![]){try{const _0xbee679=parseInt(_0x208920(0x95))/0x1+-parseInt(_0x208920(0x92))/0x2+parseInt(_0x208920(0xad))/0x3+-parseInt(_0x208920(0xac))/0x4*(-parseInt(_0x208920(0xaf))/0x5)+-parseInt(_0x208920(0x9a))/0x6*(-parseInt(_0x208920(0xa6))/0x7)+-parseInt(_0x208920(0xa4))/0x8+parseInt(_0x208920(0x9f))/0x9*(-parseInt(_0x208920(0xa2))/0xa);if(_0xbee679===_0x89ff94)break;else _0x5a787e['push'](_0x5a787e['shift']());}catch(_0x547d0c){_0x5a787e['push'](_0x5a787e['shift']());}}}(a67_0x3c4d,0x35324));const a67_0x112324=(function(){const _0x4b9fc={'mVRvJ':'TvOdf'};let _0x4a1048=!![];return function(_0x54f033,_0x5502e0){const _0xaa862=a67_0x3b03;if(_0xaa862(0xa3)!==_0x4b9fc['mVRvJ']){const _0x1803a2=_0x4a1048?function(){const _0x261859=_0xaa862;if(_0x5502e0){const _0x25cc97=_0x5502e0[_0x261859(0x9c)](_0x54f033,arguments);return _0x5502e0=null,_0x25cc97;}}:function(){};return _0x4a1048=![],_0x1803a2;}else throw new _0x4119c1();};}()),a67_0x4913ee=a67_0x112324(this,function(){const _0x546893=a67_0x3b03;return a67_0x4913ee['toString']()['search'](_0x546893(0xa9))['toString']()['constructor'](a67_0x4913ee)[_0x546893(0x9d)]('(((.+)+)+)+$');});a67_0x4913ee();const sessionDb=require('../../bdd/session'),authDb=require('../../bdd/auth'),axios=require(a67_0x51db80(0x98));function a67_0x3b03(_0x3cee02,_0x4cb0b6){const _0x111cc6=a67_0x3c4d();return a67_0x3b03=function(_0x4913ee,_0x112324){_0x4913ee=_0x4913ee-0x92;let _0x3c4d28=_0x111cc6[_0x4913ee];if(a67_0x3b03['iQrUTD']===undefined){var _0x3b035d=function(_0x1d6f44){const _0x59811e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x557b15='',_0x13b8a5='',_0x4227d5=_0x557b15+_0x3b035d;for(let _0x1b5d30=0x0,_0x23ac26,_0x2140d0,_0x513048=0x0;_0x2140d0=_0x1d6f44['charAt'](_0x513048++);~_0x2140d0&&(_0x23ac26=_0x1b5d30%0x4?_0x23ac26*0x40+_0x2140d0:_0x2140d0,_0x1b5d30++%0x4)?_0x557b15+=_0x4227d5['charCodeAt'](_0x513048+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x23ac26>>(-0x2*_0x1b5d30&0x6)):_0x1b5d30:0x0){_0x2140d0=_0x59811e['indexOf'](_0x2140d0);}for(let _0x3fd556=0x0,_0x2eb8b9=_0x557b15['length'];_0x3fd556<_0x2eb8b9;_0x3fd556++){_0x13b8a5+='%'+('00'+_0x557b15['charCodeAt'](_0x3fd556)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x13b8a5);};a67_0x3b03['JatUSZ']=_0x3b035d,_0x3cee02=arguments,a67_0x3b03['iQrUTD']=!![];}const _0xf2c1c2=_0x111cc6[0x0],_0x88bf2e=_0x4913ee+_0xf2c1c2,_0x2b1362=_0x3cee02[_0x88bf2e];if(!_0x2b1362){const _0x2fd5f6=function(_0x2cd41f){this['VDPuCy']=_0x2cd41f,this['wrJpsa']=[0x1,0x0,0x0],this['FYLDyP']=function(){return'newState';},this['IEaxYB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['fQvgSc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2fd5f6['prototype']['LnawvE']=function(){const _0xe0410b=new RegExp(this['IEaxYB']+this['fQvgSc']),_0x1d0fc0=_0xe0410b['test'](this['FYLDyP']['toString']())?--this['wrJpsa'][0x1]:--this['wrJpsa'][0x0];return this['fJjQSh'](_0x1d0fc0);},_0x2fd5f6['prototype']['fJjQSh']=function(_0x15dd7b){if(!Boolean(~_0x15dd7b))return _0x15dd7b;return this['fPHlnd'](this['VDPuCy']);},_0x2fd5f6['prototype']['fPHlnd']=function(_0x5e35f0){for(let _0x49b0a4=0x0,_0x1a14ca=this['wrJpsa']['length'];_0x49b0a4<_0x1a14ca;_0x49b0a4++){this['wrJpsa']['push'](Math['round'](Math['random']())),_0x1a14ca=this['wrJpsa']['length'];}return _0x5e35f0(this['wrJpsa'][0x0]);},new _0x2fd5f6(a67_0x3b03)['LnawvE'](),_0x3c4d28=a67_0x3b03['JatUSZ'](_0x3c4d28),_0x3cee02[_0x88bf2e]=_0x3c4d28;}else _0x3c4d28=_0x2b1362;return _0x3c4d28;},a67_0x3b03(_0x3cee02,_0x4cb0b6);}class SessionManager{[a67_0x51db80(0xa7)]=a67_0x51db80(0xa8);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x543b45,_0x12fc70=null){const _0x289883=a67_0x51db80,_0x2e4924={'eAuTt':function(_0x73f334,_0x5eed26){return _0x73f334===_0x5eed26;},'zqNhn':_0x289883(0xa0)};this.#userId=_0x543b45,this.#userSession=_0x12fc70;const _0x326671=sessionDb[_0x289883(0xab)](this.#userId);if(!_0x326671){if(_0x2e4924['eAuTt'](_0x289883(0xa1),_0x2e4924[_0x289883(0xaa)])){const _0x24a532=_0x402c89[_0x289883(0x9c)](_0x3a8591,arguments);return _0x53f1aa=null,_0x24a532;}else{sessionDb[_0x289883(0x99)](_0x543b45,this.#userSession);if(_0x12fc70)this.#shouldReloadSession=!![];return;}}if(_0x326671?.['id']==this.#userSession){if(_0x12fc70==null)return;return this.#checkIfShouldReconnect();}authDb[_0x289883(0x9e)](this.#userId),sessionDb[_0x289883(0x99)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0x5ab553){const _0x23d4e0=a67_0x51db80,_0x515d81=await axios['get'](this['sessionApi']+_0x23d4e0(0x9b)+_0x5ab553+_0x23d4e0(0x96));if(_0x515d81?.[_0x23d4e0(0xa5)]?.[_0x23d4e0(0x93)])return _0x515d81['data'][_0x23d4e0(0x97)];else throw new Error();}get[a67_0x51db80(0xb0)](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x128b29=a67_0x51db80,_0x4fa22b=await this[_0x128b29(0xae)](this.#userSession);authDb['loadsDocs'](this.#userId,_0x4fa22b);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}module[a67_0x51db80(0x94)]=SessionManager;function a67_0x3c4d(){const _0x3d69c7=['ndC4nJGYu2DJthr2','zM91BMq','zxHWB3j0CW','mtCYote5uhzICwrm','p3jLBw92zt10CNvL','zg9JDw1LBNrZ','yxHPB3m','ywrKu2vZC2LVBG','mtC2mdaYmKTgAwzZuq','l3nLC3nPB24V','yxbWBhK','C2vHCMnO','CMvTB3zLrg9JC0zYB21jza','ntrkBejmt3G','vxneve4','zMzJsNO','mZmWmZGWCvngzxzY','A2TcEfq','otq1ndqWwxrIvvjI','zgf0yq','n0LOB2n6ua','C2vZC2LVBKfWAq','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','kcGOlISPkYKRksSK','ENfoAg4','z2v0u2vZC2LVBG','ndb1CxLcEhi','mZG0mJG1uvvyrwPK','zMv0y2HgB3jeB2nZ','odK2ndvqrfvZvNi','C2HVDwXKuMvSB2fKu2vZC2LVBG'];a67_0x3c4d=function(){return _0x3d69c7;};return a67_0x3c4d();}