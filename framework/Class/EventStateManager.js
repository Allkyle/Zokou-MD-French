const a64_0x338140=a64_0x438a;function a64_0x438a(_0x3fb322,_0x4b28a0){const _0x1f6df3=a64_0x3b4b();return a64_0x438a=function(_0x307ccc,_0x8fbeaf){_0x307ccc=_0x307ccc-0x17c;let _0x3b4bf5=_0x1f6df3[_0x307ccc];if(a64_0x438a['KaIHbm']===undefined){var _0x438a83=function(_0x595f8f){const _0xaa90aa='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x578e13='',_0x59361c='',_0xecfebb=_0x578e13+_0x438a83;for(let _0x3ddf35=0x0,_0x4c39e1,_0x4624c5,_0x5b5710=0x0;_0x4624c5=_0x595f8f['charAt'](_0x5b5710++);~_0x4624c5&&(_0x4c39e1=_0x3ddf35%0x4?_0x4c39e1*0x40+_0x4624c5:_0x4624c5,_0x3ddf35++%0x4)?_0x578e13+=_0xecfebb['charCodeAt'](_0x5b5710+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4c39e1>>(-0x2*_0x3ddf35&0x6)):_0x3ddf35:0x0){_0x4624c5=_0xaa90aa['indexOf'](_0x4624c5);}for(let _0x2be15b=0x0,_0x421262=_0x578e13['length'];_0x2be15b<_0x421262;_0x2be15b++){_0x59361c+='%'+('00'+_0x578e13['charCodeAt'](_0x2be15b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x59361c);};a64_0x438a['vkvdgB']=_0x438a83,_0x3fb322=arguments,a64_0x438a['KaIHbm']=!![];}const _0x348cc7=_0x1f6df3[0x0],_0x13d63f=_0x307ccc+_0x348cc7,_0x2d4eb1=_0x3fb322[_0x13d63f];if(!_0x2d4eb1){const _0x51c023=function(_0x228ec1){this['tFKOxv']=_0x228ec1,this['GVidSs']=[0x1,0x0,0x0],this['VjxPhA']=function(){return'newState';},this['GjpwQh']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jAyBFT']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x51c023['prototype']['OANzNV']=function(){const _0x300537=new RegExp(this['GjpwQh']+this['jAyBFT']),_0x39c213=_0x300537['test'](this['VjxPhA']['toString']())?--this['GVidSs'][0x1]:--this['GVidSs'][0x0];return this['AWNsgs'](_0x39c213);},_0x51c023['prototype']['AWNsgs']=function(_0x5d5f66){if(!Boolean(~_0x5d5f66))return _0x5d5f66;return this['kkQlRc'](this['tFKOxv']);},_0x51c023['prototype']['kkQlRc']=function(_0x48f7f6){for(let _0x9da2c7=0x0,_0x4db985=this['GVidSs']['length'];_0x9da2c7<_0x4db985;_0x9da2c7++){this['GVidSs']['push'](Math['round'](Math['random']())),_0x4db985=this['GVidSs']['length'];}return _0x48f7f6(this['GVidSs'][0x0]);},new _0x51c023(a64_0x438a)['OANzNV'](),_0x3b4bf5=a64_0x438a['vkvdgB'](_0x3b4bf5),_0x3fb322[_0x13d63f]=_0x3b4bf5;}else _0x3b4bf5=_0x2d4eb1;return _0x3b4bf5;},a64_0x438a(_0x3fb322,_0x4b28a0);}(function(_0x7ae587,_0x405a97){const _0x16fd96=a64_0x438a,_0x31d570=_0x7ae587();while(!![]){try{const _0x5188e5=-parseInt(_0x16fd96(0x1ac))/0x1+parseInt(_0x16fd96(0x17c))/0x2*(parseInt(_0x16fd96(0x1a8))/0x3)+-parseInt(_0x16fd96(0x1af))/0x4*(-parseInt(_0x16fd96(0x181))/0x5)+-parseInt(_0x16fd96(0x1a4))/0x6+-parseInt(_0x16fd96(0x192))/0x7+-parseInt(_0x16fd96(0x188))/0x8+parseInt(_0x16fd96(0x195))/0x9;if(_0x5188e5===_0x405a97)break;else _0x31d570['push'](_0x31d570['shift']());}catch(_0x2edfca){_0x31d570['push'](_0x31d570['shift']());}}}(a64_0x3b4b,0x46297));const a64_0x8fbeaf=(function(){let _0x401d5b=!![];return function(_0x4b25fb,_0xaa44b6){const _0x469f40=_0x401d5b?function(){const _0x440479=a64_0x438a;if(_0xaa44b6){const _0xb4983=_0xaa44b6[_0x440479(0x19f)](_0x4b25fb,arguments);return _0xaa44b6=null,_0xb4983;}}:function(){};return _0x401d5b=![],_0x469f40;};}()),a64_0x307ccc=a64_0x8fbeaf(this,function(){const _0x8cc1bb=a64_0x438a,_0x10e939={'eAZBL':_0x8cc1bb(0x1aa)};return a64_0x307ccc[_0x8cc1bb(0x19b)]()['search'](_0x10e939[_0x8cc1bb(0x19a)])[_0x8cc1bb(0x19b)]()[_0x8cc1bb(0x184)](a64_0x307ccc)[_0x8cc1bb(0x1b4)](_0x10e939[_0x8cc1bb(0x19a)]);});a64_0x307ccc();const NodeCache=require(a64_0x338140(0x1a9)),initializeDb=require('../../bdd/_index'),{zokou}=require(a64_0x338140(0x1c0));class EventStateManager{#tableName;#db=initializeDb();['STATES']={'enabled':'oui','disabled':'non'};['ACTIONS']={'remove':'retirer','delete':'supp','warn':'warn'};#defaultAction=this['ACTIONS'][a64_0x338140(0x19c)];#defaultState=this[a64_0x338140(0x1b2)]['disabled'];#cache;constructor(_0x48b618,_0x468711=new NodeCache()){this.#tableName=_0x48b618,this.#cache=_0x468711,this.#createTable();}#createTable(){const _0x49a45c=a64_0x338140;this.#db['prepare'](_0x49a45c(0x1ae)+this.#tableName+_0x49a45c(0x194)+this.#defaultState+_0x49a45c(0x1a3)+this.#defaultAction+_0x49a45c(0x17e))[_0x49a45c(0x1a2)]();}#addOrUpdateJid(_0x7593f2,_0x1883cd=this.#defaultState){const _0x39e643=a64_0x338140;this.#db[_0x39e643(0x1ad)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+_0x39e643(0x189))[_0x39e643(0x1a2)](_0x7593f2,_0x1883cd);const _0x4c3c16=this.#cache[_0x39e643(0x1b0)](_0x7593f2)||{};this.#cache['set'](_0x7593f2,{..._0x4c3c16,'etat':_0x1883cd});}#updateJidAction(_0x2356a7,_0x385833=this.#defaultAction){const _0x5bd973=a64_0x338140;try{this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+_0x5bd973(0x18b))[_0x5bd973(0x1a2)](_0x2356a7,_0x385833);const _0x3f70d8=this.#cache[_0x5bd973(0x1b0)](_0x2356a7)||{};this.#cache[_0x5bd973(0x1b8)](_0x2356a7,{..._0x3f70d8,'action':_0x385833}),console['log']('Jid\x20'+_0x2356a7+_0x5bd973(0x182)+_0x385833);}catch(_0x360510){console[_0x5bd973(0x1a6)]('Error\x20updating\x20jid\x20'+_0x2356a7+_0x5bd973(0x1a7)+_0x385833+':',_0x360510);throw _0x360510;}}[a64_0x338140(0x18e)](_0x4ea1f7){const _0xc21598=a64_0x338140,_0x386b5e={'zLSkf':function(_0x1141e0,_0x1151e1){return _0x1141e0!==_0x1151e1;}};try{const _0x16a8f1=this.#cache[_0xc21598(0x1b0)](_0x4ea1f7);if(_0x16a8f1?.['etat']!==undefined)return _0x386b5e[_0xc21598(0x18d)](_0x16a8f1[_0xc21598(0x199)],this.#defaultState);const _0x48cc94=this.#db[_0xc21598(0x1ad)]('SELECT\x20etat\x20FROM\x20'+this.#tableName+_0xc21598(0x1b1))[_0xc21598(0x1b0)](_0x4ea1f7);if(_0x48cc94)return this.#cache[_0xc21598(0x1b8)](_0x4ea1f7,{...this.#cache['get'](_0x4ea1f7)||{},'etat':_0x48cc94[_0xc21598(0x199)]}),_0x48cc94['etat']!==this.#defaultState;return![];}catch(_0x467b25){return console['error'](_0xc21598(0x1bf)+_0x4ea1f7+':',_0x467b25),![];}}[a64_0x338140(0x1c3)](_0x4e4812){const _0x112373=a64_0x338140;try{const _0x3cea9d=this.#cache[_0x112373(0x1b0)](_0x4e4812);if(_0x3cea9d?.['action'])return _0x3cea9d[_0x112373(0x1bc)];const _0x14df32=this.#db[_0x112373(0x1ad)]('SELECT\x20action\x20FROM\x20'+this.#tableName+_0x112373(0x1b1))['get'](_0x4e4812);if(_0x14df32)return this.#cache['set'](_0x4e4812,{...this.#cache[_0x112373(0x1b0)](_0x4e4812)||{},'action':_0x14df32['action']}),_0x14df32['action'];return this.#defaultAction;}catch(_0x115874){console['error'](_0x112373(0x1be)+_0x4e4812+':',_0x115874);throw _0x115874;}}['generateCmd'](_0x2f4471){const _0x3e5c8f=a64_0x338140,_0x5f4f74={'eFCyO':function(_0x1dbfb2,_0x2c6184){return _0x1dbfb2(_0x2c6184);},'NBehx':function(_0x347b91,_0x1f50fb){return _0x347b91(_0x1f50fb);},'mFvmH':function(_0x1b2d76,_0x1d9bd8){return _0x1b2d76==_0x1d9bd8;},'ePBvT':function(_0x295d58,_0x56df1c){return _0x295d58!==_0x56df1c;},'LgKNj':_0x3e5c8f(0x18c)},{nomCom:_0x2d31a2,categorie:_0x52de97,desc:_0x33bcda,alias:_0xee61fe,reaction:_0x539b64}=_0x2f4471;zokou({'nomCom':_0x2d31a2,'categorie':_0x52de97,'reaction':_0x539b64,'desc':_0x33bcda,'alias':_0xee61fe},async(_0x2cac2c,_0x391126,_0x548131)=>{const _0x218f1f=_0x3e5c8f,_0x176c9c={'xSkpL':function(_0x5c5321,_0xd3e108){const _0x582864=a64_0x438a;return _0x5f4f74[_0x582864(0x18f)](_0x5c5321,_0xd3e108);}},{verifGroupe:_0x5289f6,verifAdmin:_0x249a0d,ms:_0x4729bc,arg:_0x476d12,superUser:_0xc8585f,repondre:_0xce3f3f}=_0x548131;if(!_0x5289f6)return _0xce3f3f(_0x218f1f(0x185));if(!_0xc8585f&&!_0x249a0d)return _0x5f4f74['eFCyO'](_0xce3f3f,_0x218f1f(0x1b6));try{const _0x903cae='\x0a'+_0x2d31a2+'\x20'+this[_0x218f1f(0x1b2)][_0x218f1f(0x1a1)]+_0x218f1f(0x183)+_0x2d31a2+'\x20'+this[_0x218f1f(0x1b2)][_0x218f1f(0x186)]+'\x20:\x20pour\x20le\x20desactiver\x0a'+_0x2d31a2+_0x218f1f(0x19e)+this['ACTIONS'][_0x218f1f(0x19c)]+_0x218f1f(0x196)+this['ACTIONS']['remove']+'\x0a'+_0x2d31a2+'\x20action/'+this[_0x218f1f(0x1b5)]['delete']+_0x218f1f(0x196)+this['ACTIONS'][_0x218f1f(0x19c)]+'\x0a'+_0x2d31a2+_0x218f1f(0x19e)+this[_0x218f1f(0x1b5)][_0x218f1f(0x17d)]+'\x20:\x20pour\x20changer\x20l\x27action\x20en\x20'+this['ACTIONS'][_0x218f1f(0x19c)]+'\x0a'+_0x2d31a2+'\x20'+this[_0x218f1f(0x1b5)][_0x218f1f(0x19c)]+'\x20'+this['STATES'][_0x218f1f(0x1a1)]+_0x218f1f(0x1ba);if(!_0x476d12||!_0x476d12[0x0]||_0x476d12[_0x218f1f(0x197)]('')['trim']()=='')return _0x5f4f74[_0x218f1f(0x193)](_0xce3f3f,_0x903cae);const _0x5afc4b=_0x476d12[0x0][_0x218f1f(0x198)]();if(_0x5f4f74[_0x218f1f(0x1a0)](_0x5afc4b,this[_0x218f1f(0x1b2)][_0x218f1f(0x1a1)])){if('ouDaq'===_0x218f1f(0x19d)){if(this[_0x218f1f(0x18e)](_0x2cac2c))return _0xce3f3f(_0x2d31a2+'\x20est\x20deja\x20actif');return this.#addOrUpdateJid(_0x2cac2c,_0x5afc4b),_0x5f4f74['eFCyO'](_0xce3f3f,_0x2d31a2+_0x218f1f(0x1a5));}else return _0x4c5391(_0x218f1f(0x187)+_0x7e4f47+_0x218f1f(0x1b9)+_0xce101a['values'](this[_0x218f1f(0x1b5)])[_0x218f1f(0x197)](',\x20'));}else{if(_0x5f4f74[_0x218f1f(0x1a0)](_0x5afc4b,this[_0x218f1f(0x1b2)]['disabled'])){if(!this['enabledForJid'](_0x2cac2c))return _0xce3f3f(_0x2d31a2+'\x20est\x20deja\x20desactive');return this.#addOrUpdateJid(_0x2cac2c,_0x5afc4b),_0xce3f3f(_0x2d31a2+_0x218f1f(0x191));}else{if(_0x5afc4b['startsWith'](_0x218f1f(0x1bd))){const _0x174f09=_0x5afc4b[_0x218f1f(0x180)]('/')[0x1]['trim']()[_0x218f1f(0x198)]();if(!Object[_0x218f1f(0x17f)](this['ACTIONS'])[_0x218f1f(0x1b3)](_0x174f09))return _0x5f4f74[_0x218f1f(0x190)](_0x5f4f74['LgKNj'],_0x5f4f74['LgKNj'])?_0x176c9c[_0x218f1f(0x1b7)](_0xf0dae6,_0x218f1f(0x1b6)):_0xce3f3f('L\x27action\x20'+_0x174f09+'\x20n\x27est\x20pas\x20valide.\x20Les\x20actions\x20valides\x20sont:\x20'+Object['values'](this[_0x218f1f(0x1b5)])[_0x218f1f(0x197)](',\x20'));return this.#updateJidAction(_0x2cac2c,_0x174f09),_0x5f4f74[_0x218f1f(0x193)](_0xce3f3f,'L\x27action\x20de\x20'+_0x2d31a2+_0x218f1f(0x1ab)+_0x174f09);}else return _0xce3f3f(_0x903cae);}}}catch(_0x120813){return console['log'](_0x218f1f(0x1bb)+_0x2d31a2+_0x218f1f(0x18a)+_0x2cac2c+':\x20'+_0x120813),_0x5f4f74['eFCyO'](_0xce3f3f,_0x218f1f(0x1c2));}});}}module[a64_0x338140(0x1c1)]=EventStateManager;function a64_0x3b4b(){const _0x5d28ec=['zuzdEu8','zvbcDLq','igvZDcbTywLUDgvUyw50igrLC2fJDgL2zq','mZeWmtKXrgr5zwvh','tKjLAhG','icGkicaGicaGicaGigPPzcburvHuifbssu1buLKGs0vzlaOGicaGicaGicaGzxrHDcburvHuie5pvcbovuXmierfrKfvtfqGiG','nta5odG2oxrAEKr5ua','idOGCg91CIbJAgfUz2vYigWNywn0Aw9UigvUia','AM9PBG','Dg9mB3DLCKnHC2u','zxrHDa','zufAqKW','Dg9tDhjPBMC','CMvTB3zL','B3veyxe','igfJDgLVBI8','yxbWBhK','Buz2BuG','zw5HyMXLza','CNvU','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','otG3ntqWsLfXqw15','igvZDcbTywLUDgvUyw50igfJDgLM','zxjYB3i','ihDPDgGGywn0Aw9Uia','mti3otH4z2Dtwg4','BM9Kzs1JywnOzq','kcGOlISPkYKRksSK','igvZDcbTywLUDgvUyw50ia','ndyYmJrWqvf1EwC','ChjLCgfYzq','cIaGicaGicaGq1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','ndG0ofnqDMDxCa','z2v0','ifDirvjfigPPzca9id87','u1rbvevt','Aw5JBhvKzxm','C2vHCMnO','qunusu9ouW','vM91CYbUj2f2zxOGCgfZigXLCYbWzxjTAxnZAw9UCYbUzwnLC3nHAxjLCW','EfnRCeW','C2v0','ig4Nzxn0ihbHCYb2ywXPzguUieXLCYbHy3rPB25ZihzHBgLKzxmGC29UDdOG','idOGCg91CIbHy3rPDMvYigv0ignOyw5NzxiGBcDHy3rPB24Gzw4GCMv0AxjLCG','rxjYB3iGC2v0DgLUzYa','ywn0Aw9U','ywn0Aw9UlW','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','lI4VEM9RB3u','zxHWB3j0CW','vw5LigvYCMv1CIbLC3qGC3vYDMvUDwuGlcb2zwLSBgv6ig5VDxmGzw4GAw5MB3jTzxOGC3vYigXLigzVCNvTihnPihbLCMnPC3rHBNq','z2v0qwn0Aw9UrM9YsMLK','otrrwNriuMW','D2fYBG','iGOGicaGicaGicKkicaGicaG','DMfSDwvZ','C3bSAxq','mte2mfHNrMzIzq','ihvWzgf0zwqGD2L0AcbHy3rPB24G','idOGCg91CIbSj2fJDgL2zxik','y29UC3rYDwn0B3i','q2v0DguGy29TBwfUzguGzxn0ihjLC2vYDMvYihvUAxf1zw1LBNqGCg91CIbSzxmGz3jVDxbLCW','zgLZywjSzwq','tcDHy3rPB24G','nda0ntCZnNrezu1pEq','icHQAwqSigv0yxqPiaOGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicbptIbdt05gteLdvcHQAwqPierpifvqrefursbtrvqGzxrHDca9igv4y2X1zgvKlMv0yxq7cIaGicaGicaG','igzVCIbQAwqG','icHQAwqSigfJDgLVBIKkicaGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvcbHy3rPB24GpsbLEgnSDwrLzc5Hy3rPB247cIaGicaGicaG','C2fnC3q','EKXtA2y','zw5HyMXLzezVCKPPza'];a64_0x3b4b=function(){return _0x5d28ec;};return a64_0x3b4b();}