const a64_0x28a5f9=a64_0x47b2;(function(_0x2ed09c,_0x5c9bfd){const _0x317ff6=a64_0x47b2,_0x170547=_0x2ed09c();while(!![]){try{const _0x3d528b=parseInt(_0x317ff6(0x188))/0x1+-parseInt(_0x317ff6(0x192))/0x2*(-parseInt(_0x317ff6(0x177))/0x3)+parseInt(_0x317ff6(0x195))/0x4*(parseInt(_0x317ff6(0x1ab))/0x5)+-parseInt(_0x317ff6(0x164))/0x6*(parseInt(_0x317ff6(0x189))/0x7)+-parseInt(_0x317ff6(0x1a6))/0x8+parseInt(_0x317ff6(0x1a5))/0x9+-parseInt(_0x317ff6(0x18c))/0xa*(parseInt(_0x317ff6(0x1a4))/0xb);if(_0x3d528b===_0x5c9bfd)break;else _0x170547['push'](_0x170547['shift']());}catch(_0x57ddb2){_0x170547['push'](_0x170547['shift']());}}}(a64_0x1fff,0xb9ba2));const a64_0x284a80=(function(){let _0x5c875c=!![];return function(_0x57826d,_0x4881fc){const _0x56574a=_0x5c875c?function(){if(_0x4881fc){const _0x403e57=_0x4881fc['apply'](_0x57826d,arguments);return _0x4881fc=null,_0x403e57;}}:function(){};return _0x5c875c=![],_0x56574a;};}()),a64_0x554914=a64_0x284a80(this,function(){const _0x4c4821=a64_0x47b2;return a64_0x554914[_0x4c4821(0x19f)]()[_0x4c4821(0x166)](_0x4c4821(0x165))[_0x4c4821(0x19f)]()[_0x4c4821(0x175)](a64_0x554914)[_0x4c4821(0x166)](_0x4c4821(0x165));});a64_0x554914();function a64_0x47b2(_0x542d1f,_0x49a4ae){const _0x177af4=a64_0x1fff();return a64_0x47b2=function(_0x554914,_0x284a80){_0x554914=_0x554914-0x164;let _0x1fffa7=_0x177af4[_0x554914];if(a64_0x47b2['OCYyzz']===undefined){var _0x47b25e=function(_0x481589){const _0x5da51d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x406355='',_0x1db134='',_0x8ced67=_0x406355+_0x47b25e;for(let _0x322635=0x0,_0x274707,_0x1dd69e,_0x4376bd=0x0;_0x1dd69e=_0x481589['charAt'](_0x4376bd++);~_0x1dd69e&&(_0x274707=_0x322635%0x4?_0x274707*0x40+_0x1dd69e:_0x1dd69e,_0x322635++%0x4)?_0x406355+=_0x8ced67['charCodeAt'](_0x4376bd+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x274707>>(-0x2*_0x322635&0x6)):_0x322635:0x0){_0x1dd69e=_0x5da51d['indexOf'](_0x1dd69e);}for(let _0x23bf1f=0x0,_0x5de86d=_0x406355['length'];_0x23bf1f<_0x5de86d;_0x23bf1f++){_0x1db134+='%'+('00'+_0x406355['charCodeAt'](_0x23bf1f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1db134);};a64_0x47b2['iFEgqI']=_0x47b25e,_0x542d1f=arguments,a64_0x47b2['OCYyzz']=!![];}const _0x42a6b3=_0x177af4[0x0],_0x8dddda=_0x554914+_0x42a6b3,_0x41b4c8=_0x542d1f[_0x8dddda];if(!_0x41b4c8){const _0x304b90=function(_0x392582){this['YCYMhY']=_0x392582,this['iZKBwN']=[0x1,0x0,0x0],this['GZgayY']=function(){return'newState';},this['FFSbVW']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['WZSjCm']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x304b90['prototype']['avnBhb']=function(){const _0x4e96cf=new RegExp(this['FFSbVW']+this['WZSjCm']),_0xbeca2b=_0x4e96cf['test'](this['GZgayY']['toString']())?--this['iZKBwN'][0x1]:--this['iZKBwN'][0x0];return this['XNHqbc'](_0xbeca2b);},_0x304b90['prototype']['XNHqbc']=function(_0x11ee52){if(!Boolean(~_0x11ee52))return _0x11ee52;return this['REyvRU'](this['YCYMhY']);},_0x304b90['prototype']['REyvRU']=function(_0x1ed468){for(let _0x761d15=0x0,_0x34e2d8=this['iZKBwN']['length'];_0x761d15<_0x34e2d8;_0x761d15++){this['iZKBwN']['push'](Math['round'](Math['random']())),_0x34e2d8=this['iZKBwN']['length'];}return _0x1ed468(this['iZKBwN'][0x0]);},new _0x304b90(a64_0x47b2)['avnBhb'](),_0x1fffa7=a64_0x47b2['iFEgqI'](_0x1fffa7),_0x542d1f[_0x8dddda]=_0x1fffa7;}else _0x1fffa7=_0x41b4c8;return _0x1fffa7;},a64_0x47b2(_0x542d1f,_0x49a4ae);}const NodeCache=require('node-cache'),initializeDb=require('../../bdd/_index'),{zokou}=require(a64_0x28a5f9(0x1a7));function a64_0x1fff(){const _0x1706f3=['C2v0','C3bSAxq','Aw5JBhvKzxm','igvZDcbTywLUDgvUyw50ia','y29UC3rYDwn0B3i','ywn0Aw9U','mZLksM5ntwO','z2vUzxjHDgvdBwq','BM9U','q2v0DguGy29TBwfUzguGzxn0ihjLC2vYDMvYihvUAxf1zw1LBNqGCg91CIbSzxmGz3jVDxbLCW','CezVrLq','tuD6ALC','CMvTB3zL','idOGCg91CIbJAgfUz2vYigWNywn0Aw9UigvUia','zxjYB3i','ChjLCgfYzq','rw9zzLG','zgLZywjSzwq','igvZDcbTywLUDgvUyw50igfJDgLM','rxjYB3iGC2v0DgLUzYa','ihvWzgf0zwqGD2L0AcbHy3rPB24G','D2fYBG','ifDirvjfigPPzca9id87','mtqYmJaXn3rpuxjRyW','nZiXCgXkv25I','idOGCg91CIbSj2fJDgL2zxik','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','ntbgwLPvzhu','u0jTsNa','zw5HyMXLzezVCKPPza','ihDPDgGGywn0Aw9Uia','vM91CYbUj2f2zxOGCgfZigXLCYbWzxjTAxnZAw9UCYbUzwnLC3nHAxjLCW','icGkicaGicaGicaGigPPzcburvHuifbssu1buLKGs0vzlaOGicaGicaGicaGzxrHDcburvHuie5pvcbovuXmierfrKfvtfqGiG','mJiWmK5uAuLxCa','idOGCg91CIbSzsbKzxnHy3rPDMvYcG','z2v0qwn0Aw9UrM9YsMLK','mti5nZjVy2LYCMK','CMv0AxjLCG','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','CNvU','u0vmrunuigv0yxqGrLjptsa','Dg9mB3DLCKnHC2u','tcDHy3rPB24G','zw5HyMXLza','C0DRA3e','zgvSzxrL','Dg9tDhjPBMC','cIaGicaGicaGicbjtLnfuLqGsu5utYa','icHQAwqSigfJDgLVBIKkicaGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvcbHy3rPB24GpsbLEgnSDwrLzc5Hy3rPB247cIaGicaGicaG','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','re5wC0G','mZe0nZC5m3n3CfHOyq','mtm1nde4nJHqzMjhz2G','otu2nZa0mhD0qKnKCW','lI4VEM9RB3u','ig4Nzxn0ihbHCYb2ywXPzguUieXLCYbHy3rPB25ZihzHBgLKzxmGC29UDdOG','AxDituW','igfJDgLVBI8','mJi0me9Pz05NBG','Bw93rxy','ywn0Aw9UlW','z2v0','zxrHDa','u0vmrunuigfJDgLVBIbguK9nia','Bg9N','DhjPBq','zxHWB3j0CW','ntG2mJzKyuLzCe0','kcGOlISPkYKRksSK','C2vHCMnO','u1rbvevt','C3vWCa','vw5LigvYCMv1CIbLC3qGC3vYDMvUDwuGlcb2zwLSBgv6ig5VDxmGzw4GAw5MB3jTzxOGC3vYigXLigzVCNvTihnPihbLCMnPC3rHBNq','igzVCIbQAwqG','AM9PBG','DMfSDwvZ','qMrduuK','C3rHCNrZv2L0Aa','qunusu9ouW','EhvkAgq'];a64_0x1fff=function(){return _0x1706f3;};return a64_0x1fff();}class EventStateManager{#tableName;#db=initializeDb();[a64_0x28a5f9(0x167)]={'enabled':'oui','disabled':a64_0x28a5f9(0x179)};[a64_0x28a5f9(0x16f)]={'remove':a64_0x28a5f9(0x196),'delete':a64_0x28a5f9(0x168),'warn':'warn'};#defaultAction=this[a64_0x28a5f9(0x16f)][a64_0x28a5f9(0x17d)];#defaultState=this[a64_0x28a5f9(0x167)][a64_0x28a5f9(0x182)];#cache;constructor(_0x1c3515,_0x159a51=new NodeCache()){this.#tableName=_0x1c3515,this.#cache=_0x159a51,this.#createTable();}#createTable(){const _0xa12f95=a64_0x28a5f9;this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+this.#tableName+_0xa12f95(0x191)+this.#defaultState+_0xa12f95(0x197)+this.#defaultAction+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20')[_0xa12f95(0x198)]();}#addOrUpdateJid(_0x3d1e99,_0x342d58=this.#defaultState){const _0x3149be=a64_0x28a5f9;this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+'\x20(jid,\x20etat)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20etat\x20=\x20excluded.etat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['run'](_0x3d1e99,_0x342d58);const _0x1652a5=this.#cache[_0x3149be(0x1ae)](_0x3d1e99)||{};this.#cache['set'](_0x3d1e99,{..._0x1652a5,'etat':_0x342d58});}#updateJidAction(_0xef28cc,_0x31e078=this.#defaultAction){const _0x395c2b=a64_0x28a5f9;try{this.#db[_0x395c2b(0x180)](_0x395c2b(0x1a0)+this.#tableName+_0x395c2b(0x1a1))['run'](_0xef28cc,_0x31e078);const _0x406b9e=this.#cache['get'](_0xef28cc)||{};this.#cache['set'](_0xef28cc,{..._0x406b9e,'action':_0x31e078}),console[_0x395c2b(0x1b1)]('Jid\x20'+_0xef28cc+_0x395c2b(0x185)+_0x31e078);}catch(_0x33a705){console[_0x395c2b(0x17f)]('Error\x20updating\x20jid\x20'+_0xef28cc+_0x395c2b(0x18f)+_0x31e078+':',_0x33a705);throw _0x33a705;}}[a64_0x28a5f9(0x18e)](_0x5cb2ad){const _0x2ef5ad=a64_0x28a5f9,_0x43af03={'SBmJp':function(_0x4822b3,_0x368df8){return _0x4822b3!==_0x368df8;},'EMrbr':function(_0x36c890,_0x166a13){return _0x36c890!==_0x166a13;}};try{const _0x4340d6=this.#cache[_0x2ef5ad(0x1ae)](_0x5cb2ad);if(_0x43af03[_0x2ef5ad(0x18d)](_0x4340d6?.['etat'],undefined))return _0x43af03['EMrbr'](_0x4340d6[_0x2ef5ad(0x1af)],this.#defaultState);const _0x1b9d51=this.#db['prepare'](_0x2ef5ad(0x199)+this.#tableName+_0x2ef5ad(0x187))['get'](_0x5cb2ad);if(_0x1b9d51)return this.#cache[_0x2ef5ad(0x171)](_0x5cb2ad,{...this.#cache[_0x2ef5ad(0x1ae)](_0x5cb2ad)||{},'etat':_0x1b9d51['etat']}),_0x1b9d51['etat']!==this.#defaultState;return![];}catch(_0x44383d){return console[_0x2ef5ad(0x17f)](_0x2ef5ad(0x1a2)+_0x5cb2ad+':',_0x44383d),![];}}[a64_0x28a5f9(0x194)](_0x1be0cc){const _0xeb6e15=a64_0x28a5f9,_0x4ecd43={'xuJhd':function(_0x1f74a1,_0x24f27a){return _0x1f74a1!==_0x24f27a;},'BnsfG':'mowEv'};try{if(_0x4ecd43[_0xeb6e15(0x170)](_0xeb6e15(0x1ac),_0x4ecd43['BnsfG']))return _0x8889c8(_0xeb6e15(0x190));else{const _0x33687c=this.#cache[_0xeb6e15(0x1ae)](_0x1be0cc);if(_0x33687c?.['action'])return _0x33687c['action'];const _0x36322f=this.#db['prepare'](_0xeb6e15(0x1b0)+this.#tableName+_0xeb6e15(0x187))['get'](_0x1be0cc);if(_0x36322f)return this.#cache[_0xeb6e15(0x171)](_0x1be0cc,{...this.#cache[_0xeb6e15(0x1ae)](_0x1be0cc)||{},'action':_0x36322f['action']}),_0x36322f[_0xeb6e15(0x176)];return this.#defaultAction;}}catch(_0x45b7ae){console[_0xeb6e15(0x17f)](_0xeb6e15(0x18b)+_0x1be0cc+':',_0x45b7ae);throw _0x45b7ae;}}[a64_0x28a5f9(0x178)](_0x38d4f8){const _0x3c5ac4=a64_0x28a5f9,_0x5c5969={'iwHML':'QkxVf','qAwEt':function(_0x861e2f,_0x1fef59){return _0x861e2f&&_0x1fef59;},'gEqvz':function(_0x5271b5,_0x43293c){return _0x5271b5==_0x43293c;},'MGzjW':function(_0x47b844,_0x2cd460){return _0x47b844(_0x2cd460);},'DNVsH':_0x3c5ac4(0x16d),'pFoFT':function(_0x3b37d1,_0x56741b){return _0x3b37d1==_0x56741b;},'EoYfX':function(_0x1b101e,_0x4ad5e4){return _0x1b101e(_0x4ad5e4);},'yiXsG':function(_0x57e5f1,_0x5c0bd3){return _0x57e5f1(_0x5c0bd3);},'VNbDk':'GXuQk','nXRdV':function(_0x36cd20,_0x367807){return _0x36cd20(_0x367807);},'sGkkq':function(_0x32c2d5,_0x16703b,_0x3682f3){return _0x32c2d5(_0x16703b,_0x3682f3);}},{nomCom:_0x3f09e7,categorie:_0x354499,desc:_0x48deb5,alias:_0x333e34,reaction:_0x5451a4}=_0x38d4f8;_0x5c5969[_0x3c5ac4(0x19d)](zokou,{'nomCom':_0x3f09e7,'categorie':_0x354499,'reaction':_0x5451a4,'desc':_0x48deb5,'alias':_0x333e34},async(_0x186a58,_0x320df7,_0x3e271c)=>{const _0x57faa3=_0x3c5ac4,{verifGroupe:_0x2b760c,verifAdmin:_0x50c632,ms:_0x2da56e,arg:_0x5bd7a9,superUser:_0x1d0f58,repondre:_0x522a22}=_0x3e271c;if(!_0x2b760c)return _0x5c5969[_0x57faa3(0x1a9)]!==_0x5c5969['iwHML']?_0x18ebec(_0x7b4aa1+'\x20est\x20deja\x20desactive'):_0x522a22(_0x57faa3(0x17a));if(_0x5c5969['qAwEt'](!_0x1d0f58,!_0x50c632))return _0x522a22(_0x57faa3(0x190));try{const _0x3bef19='\x0a'+_0x3f09e7+'\x20'+this[_0x57faa3(0x167)][_0x57faa3(0x19c)]+_0x57faa3(0x18a)+_0x3f09e7+'\x20'+this[_0x57faa3(0x167)][_0x57faa3(0x182)]+_0x57faa3(0x193)+_0x3f09e7+'\x20action/'+this['ACTIONS']['remove']+_0x57faa3(0x17e)+this[_0x57faa3(0x16f)][_0x57faa3(0x17d)]+'\x0a'+_0x3f09e7+_0x57faa3(0x1aa)+this[_0x57faa3(0x16f)][_0x57faa3(0x19e)]+_0x57faa3(0x17e)+this[_0x57faa3(0x16f)][_0x57faa3(0x17d)]+'\x0a'+_0x3f09e7+'\x20action/'+this[_0x57faa3(0x16f)][_0x57faa3(0x186)]+_0x57faa3(0x17e)+this['ACTIONS']['remove']+'\x0a'+_0x3f09e7+'\x20'+this['ACTIONS']['remove']+'\x20'+this[_0x57faa3(0x167)][_0x57faa3(0x19c)]+'\x20:\x20pour\x20activer\x20et\x20changer\x20l\x27action\x20en\x20retirer';if(!_0x5bd7a9||!_0x5bd7a9[0x0]||_0x5c5969['gEqvz'](_0x5bd7a9[_0x57faa3(0x16b)]('')[_0x57faa3(0x1b2)](),''))return _0x5c5969['MGzjW'](_0x522a22,_0x3bef19);const _0x131753=_0x5bd7a9[0x0][_0x57faa3(0x19a)]();if(_0x131753==this[_0x57faa3(0x167)][_0x57faa3(0x19c)]){if(this[_0x57faa3(0x18e)](_0x186a58)){if(_0x5c5969[_0x57faa3(0x1a3)]===_0x5c5969[_0x57faa3(0x1a3)])return _0x5c5969[_0x57faa3(0x17c)](_0x522a22,_0x3f09e7+'\x20est\x20deja\x20actif');else{const _0x5a095e=_0x2a291c['apply'](_0x28445a,arguments);return _0x3e4f08=null,_0x5a095e;}}return this.#addOrUpdateJid(_0x186a58,_0x131753),_0x522a22(_0x3f09e7+_0x57faa3(0x183));}else{if(_0x5c5969[_0x57faa3(0x17b)](_0x131753,this[_0x57faa3(0x167)][_0x57faa3(0x182)])){if(!this[_0x57faa3(0x18e)](_0x186a58))return _0x5c5969[_0x57faa3(0x181)](_0x522a22,_0x3f09e7+'\x20est\x20deja\x20desactive');return this.#addOrUpdateJid(_0x186a58,_0x131753),_0x522a22(_0x3f09e7+'\x20est\x20maintenant\x20desactive');}else{if(_0x131753[_0x57faa3(0x16e)](_0x57faa3(0x1ad))){const _0x28eefe=_0x131753[_0x57faa3(0x172)]('/')[0x1][_0x57faa3(0x1b2)]()['toLowerCase']();if(!Object[_0x57faa3(0x16c)](this['ACTIONS'])[_0x57faa3(0x173)](_0x28eefe))return _0x5c5969['EoYfX'](_0x522a22,'L\x27action\x20'+_0x28eefe+_0x57faa3(0x1a8)+Object['values'](this[_0x57faa3(0x16f)])[_0x57faa3(0x16b)](',\x20'));return this.#updateJidAction(_0x186a58,_0x28eefe),_0x5c5969['yiXsG'](_0x522a22,'L\x27action\x20de\x20'+_0x3f09e7+_0x57faa3(0x174)+_0x28eefe);}else return _0x522a22(_0x3bef19);}}}catch(_0x4e808c){return _0x5c5969['VNbDk']!=='GXuQk'?_0x1d10cd(_0x57faa3(0x19b)+_0x4a8ab8+_0x57faa3(0x1a8)+_0x2ef306[_0x57faa3(0x16c)](this[_0x57faa3(0x16f)])['join'](',\x20')):(console[_0x57faa3(0x1b1)](_0x57faa3(0x184)+_0x3f09e7+_0x57faa3(0x16a)+_0x186a58+':\x20'+_0x4e808c),_0x5c5969['nXRdV'](_0x522a22,_0x57faa3(0x169)));}});}}module[a64_0x28a5f9(0x1b3)]=EventStateManager;