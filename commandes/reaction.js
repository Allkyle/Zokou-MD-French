const a48_0x35fb8e=a48_0x17e1;(function(_0x48307c,_0x1928ec){const _0x494b3d=a48_0x17e1,_0x10f604=_0x48307c();while(!![]){try{const _0xd2c931=-parseInt(_0x494b3d(0x17d))/0x1*(parseInt(_0x494b3d(0x17e))/0x2)+parseInt(_0x494b3d(0x14a))/0x3+parseInt(_0x494b3d(0x165))/0x4+parseInt(_0x494b3d(0x188))/0x5+-parseInt(_0x494b3d(0x197))/0x6+parseInt(_0x494b3d(0x179))/0x7*(parseInt(_0x494b3d(0x192))/0x8)+-parseInt(_0x494b3d(0x195))/0x9;if(_0xd2c931===_0x1928ec)break;else _0x10f604['push'](_0x10f604['shift']());}catch(_0x5a7c4e){_0x10f604['push'](_0x10f604['shift']());}}}(a48_0x2066,0xb9e54));const a48_0x58568f=(function(){const _0x31abe2={'RnbjF':'ZSxsI'};let _0x1adf0d=!![];return function(_0x3776ab,_0x2e58ec){const _0x2c0c1c={'DwGYu':_0x31abe2['RnbjF']},_0xad70fd=_0x1adf0d?function(){const _0x50e100=a48_0x17e1;if(_0x2c0c1c['DwGYu']!=='ZSxsI'){const _0x335c0c=_0x5c6551['apply'](_0x3e1fac,arguments);return _0x2a0cf=null,_0x335c0c;}else{if(_0x2e58ec){const _0x485639=_0x2e58ec[_0x50e100(0x198)](_0x3776ab,arguments);return _0x2e58ec=null,_0x485639;}}}:function(){};return _0x1adf0d=![],_0xad70fd;};}()),a48_0x2a3a67=a48_0x58568f(this,function(){const _0x585919=a48_0x17e1,_0x392552={'PCRVB':'(((.+)+)+)+$'};return a48_0x2a3a67[_0x585919(0x16f)]()['search'](_0x585919(0x155))[_0x585919(0x16f)]()[_0x585919(0x176)](a48_0x2a3a67)['search'](_0x392552['PCRVB']);});a48_0x2a3a67();const ffmpeg=require('fluent-ffmpeg'),fs=require(a48_0x35fb8e(0x189)),{unlink}=require('fs')['promises'],{zokou}=require('../framework/zokou'),ffmpegPath=require(a48_0x35fb8e(0x163))[a48_0x35fb8e(0x153)],axios=require(a48_0x35fb8e(0x191)),{TEMP_DIR}=require(a48_0x35fb8e(0x150));function a48_0x2066(){const _0x29ec21=['yxbWBhK','BgvJAmoPkguP','zMfPDcb1BIbJywXPBG','D3jPDgvgAwXLu3LUyW','BgvJAgvY','zgfUC8oPihbVDxi','DhxdQsHLkq','C211zW','AgfUzgHVBgq','z2LMBgvY','mteZnZu1ofHprKDWtq','z2LMBmoPkguP','z2v0','ywXSu2v0DgXLza','lxbPEf9MBxqGExv2ndiWCa','zMfPDcb1BIbZB3vYAxjLig1HBgLJAwv1EcbH','lI4VzNjHBwv3B3jRl2nVBNn0yw50','zMfPDcb1BIbZB3vYAxjLimoG','igeG','Cgf0Aa','A2LJAW','kcGOlISPkYKRksSK','A2LSBa','uMvHy3rPB24','DxjS','Bxa0','AMv0DmoPkguP','y2fSAw4','EhjQrgu','Agv1CMv1Ea','yxDVBW','C2v0rMzTCgvNugf0Aa','qNzWuKy','D2f2zq','CLjVEg4','qgzMBxbLzY1PBNn0ywXSzxiVzMzTCgvN','CgLLza','mZy0mtiWnhbQDMjMsq','DgfXDwLUzxi','yMX1C2G','lw1VDMzSywDZigzHC3rZDgfYDa','y3jPBMDL','CgXLDxldQsHLksbWB3vY','BgfUy2vY','u0PPEui','lxzMihnJywXLpxrYDw5JkgL3lZiPkJi6Dhj1BMmOAwGVmIKQmG','CLnvsKW','Dg9tDhjPBMC','DgvUAxi','C2vHCMnO','tfbPCKm','BcDHAxiGAgv1CMv1EcbWB3vY','BwfSAwnL','C3bSAxq','y29UC3rYDwn0B3i','zw5SywnLCG','vu5HEvu','ndCWodm2mvbMwvvKyG','A0Hbv2O','Cgf0','ihmNzxn0ia','mu5prMvUsq','ndeZmJa2u21NvwLH','ysbMywL0ihvUignSAw4GzcFfK2LSimoG','Bg9N','Cg91C3nLCG','lMDPzG','Dg9Wzs1Syq','zw1ICMfZC8oPkguP','ywXS','y2fSAw7dQsHLkq','z2XVBxa','mtC2ntK5mhf2tgTrDa','zNmTzxH0CMe','t1n6EMu','zvb3y28','yM9UAW','yxjYyxLIDwzMzxi','C2vUze1LC3nHz2u','BwfUz2vY','CMvHzezPBgu','yxHPB3m','mtzMt3DTB2e','zgfUy2u','zgf0yq','ntuXnZmXnujHzNvZuW','zw1ICMfZC2vY','odq0mte5mhHtAMjeBq'];a48_0x2066=function(){return _0x29ec21;};return a48_0x2066();}ffmpeg[a48_0x35fb8e(0x15f)](ffmpegPath);function a48_0x17e1(_0x4c2c95,_0x2a9e67){const _0xd33e1b=a48_0x2066();return a48_0x17e1=function(_0x2a3a67,_0x58568f){_0x2a3a67=_0x2a3a67-0x146;let _0x2066e1=_0xd33e1b[_0x2a3a67];if(a48_0x17e1['nhwEbQ']===undefined){var _0x17e155=function(_0x4be868){const _0x15d17c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x499159='',_0x313bfc='',_0x24cf17=_0x499159+_0x17e155;for(let _0x53346b=0x0,_0x4a15d4,_0x5c56f5,_0x5bdb79=0x0;_0x5c56f5=_0x4be868['charAt'](_0x5bdb79++);~_0x5c56f5&&(_0x4a15d4=_0x53346b%0x4?_0x4a15d4*0x40+_0x5c56f5:_0x5c56f5,_0x53346b++%0x4)?_0x499159+=_0x24cf17['charCodeAt'](_0x5bdb79+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4a15d4>>(-0x2*_0x53346b&0x6)):_0x53346b:0x0){_0x5c56f5=_0x15d17c['indexOf'](_0x5c56f5);}for(let _0x2ffc7f=0x0,_0x30bf51=_0x499159['length'];_0x2ffc7f<_0x30bf51;_0x2ffc7f++){_0x313bfc+='%'+('00'+_0x499159['charCodeAt'](_0x2ffc7f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x313bfc);};a48_0x17e1['VOXAuI']=_0x17e155,_0x4c2c95=arguments,a48_0x17e1['nhwEbQ']=!![];}const _0x576143=_0xd33e1b[0x0],_0x2147c0=_0x2a3a67+_0x576143,_0x3c7351=_0x4c2c95[_0x2147c0];if(!_0x3c7351){const _0x59a686=function(_0x458eab){this['wmfQxt']=_0x458eab,this['DxmnXV']=[0x1,0x0,0x0],this['yudytQ']=function(){return'newState';},this['UujwEY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Odbmwx']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x59a686['prototype']['VjazGz']=function(){const _0x4d12d5=new RegExp(this['UujwEY']+this['Odbmwx']),_0x2b941a=_0x4d12d5['test'](this['yudytQ']['toString']())?--this['DxmnXV'][0x1]:--this['DxmnXV'][0x0];return this['GErBfs'](_0x2b941a);},_0x59a686['prototype']['GErBfs']=function(_0xf47a20){if(!Boolean(~_0xf47a20))return _0xf47a20;return this['VREAXO'](this['wmfQxt']);},_0x59a686['prototype']['VREAXO']=function(_0xdbb2a5){for(let _0x4c642a=0x0,_0x4a72f9=this['DxmnXV']['length'];_0x4c642a<_0x4a72f9;_0x4c642a++){this['DxmnXV']['push'](Math['round'](Math['random']())),_0x4a72f9=this['DxmnXV']['length'];}return _0xdbb2a5(this['DxmnXV'][0x0]);},new _0x59a686(a48_0x17e1)['VjazGz'](),_0x2066e1=a48_0x17e1['VOXAuI'](_0x2066e1),_0x4c2c95[_0x2147c0]=_0x2066e1;}else _0x2066e1=_0x3c7351;return _0x2066e1;},a48_0x17e1(_0x4c2c95,_0x2a9e67);}const sleep=_0x299dd1=>{return new Promise(_0x3e7bd2=>setTimeout(_0x3e7bd2,_0x299dd1));},GIFBufferToVideoBuffer=async _0x5a57f9=>{const _0x13f035=a48_0x35fb8e,_0x32150b={'LPirC':'jgwCH','BvpRF':function(_0x47debb,_0x1a9e7f){return _0x47debb(_0x1a9e7f);},'UNayU':_0x13f035(0x168),'kHAWj':_0x13f035(0x14e),'SJiyB':_0x13f035(0x159),'OSzze':'error','vvqIy':function(_0x3b70e6,_0x36da46){return _0x3b70e6+_0x36da46;}},_0x3299b0=''+Math['random']()['toString'](0x24),_0x577163=_0x32150b['vvqIy'](TEMP_DIR,_0x3299b0)+_0x13f035(0x182),_0x383e24=TEMP_DIR+_0x3299b0+'.mp4';return fs[_0x13f035(0x19b)](_0x577163,_0x5a57f9),new Promise((_0x1731fe,_0x5a8980)=>{const _0x2fb1d0=_0x13f035,_0x467038={'ePwco':_0x32150b[_0x2fb1d0(0x172)],'rSUJL':function(_0x42ccaf,_0x2f490a){const _0x227aa7=_0x2fb1d0;return _0x32150b[_0x227aa7(0x160)](_0x42ccaf,_0x2f490a);},'xrjDe':function(_0x1e1fda,_0xd9137){return _0x1e1fda(_0xd9137);},'rRoxn':function(_0x1e2dd9,_0x7117d0){return _0x1e2dd9(_0x7117d0);}};ffmpeg(_0x577163)['outputOptions']([_0x32150b[_0x2fb1d0(0x178)],_0x32150b[_0x2fb1d0(0x17a)],_0x2fb1d0(0x16d)])['toFormat'](_0x32150b[_0x2fb1d0(0x16c)])['save'](_0x383e24)['on']('end',async()=>{const _0x42af63=_0x2fb1d0;if(_0x467038[_0x42af63(0x18b)]===_0x467038['ePwco'])try{const _0x3c7649=await fs[_0x42af63(0x190)](_0x383e24);await Promise[_0x42af63(0x185)]([unlink(_0x577163),_0x467038[_0x42af63(0x16e)](unlink,_0x383e24)]),_0x467038[_0x42af63(0x15c)](_0x1731fe,_0x3c7649);}catch(_0x4f6e1c){_0x5a8980(_0x4f6e1c);}else return _0x653b00[_0x42af63(0x16f)]()[_0x42af63(0x171)](_0x42af63(0x155))[_0x42af63(0x16f)]()[_0x42af63(0x176)](_0x2b1253)['search'](_0x42af63(0x155));})['on'](_0x32150b[_0x2fb1d0(0x18a)],async _0x1728ab=>{const _0x391eaf=_0x2fb1d0;await Promise[_0x391eaf(0x14d)]([unlink(_0x577163),unlink(_0x383e24)]),_0x467038[_0x391eaf(0x162)](_0x5a8980,_0x1728ab);});});},generateReactionCommand=(_0x3b2a40,_0x397ec6,_0x3b393a,_0x29db31)=>{const _0xbb2744=a48_0x35fb8e;zokou({'nomCom':_0x3b393a,'categorie':_0xbb2744(0x157),'reaction':_0x397ec6},async(_0x355bca,_0x3676e3,_0x358353)=>{const _0x14e599=_0xbb2744,{auteurMessage:_0x1b50ef,auteurMsgRepondu:_0x3c4898,repondre:_0x5d15e8,ms:_0x4b0aae,msgRepondu:_0x2c1f04}=_0x358353,_0x25e2da='https://api.waifu.pics/sfw/'+_0x3b2a40;try{const _0x1ee1b2=await axios['get'](_0x25e2da),_0x3a9c91=_0x1ee1b2['data'][_0x14e599(0x158)],_0x29971e=await axios[_0x14e599(0x14c)](_0x3a9c91,{'responseType':_0x14e599(0x18d)}),_0x44cf64=await _0x29971e[_0x14e599(0x194)],_0x211ea6=await GIFBufferToVideoBuffer(_0x44cf64);if(_0x2c1f04){var _0x41420e='\x20@'+_0x1b50ef[_0x14e599(0x175)]('@')[0x0]+_0x14e599(0x152)+_0x29db31+'\x20@'+_0x3c4898[_0x14e599(0x175)]('@')[0x0];_0x3676e3[_0x14e599(0x18e)](_0x355bca,{'video':_0x211ea6,'gifPlayback':!![],'caption':_0x41420e,'mentions':[_0x1b50ef,_0x3c4898]},{'quoted':_0x4b0aae});}else{const _0x4a8b2b={'video':_0x211ea6,'gifPlayback':!![],'caption':'@'+_0x1b50ef[_0x14e599(0x175)]('@')[0x0]+_0x14e599(0x17c)+_0x29db31+'\x20lui\x20même.','mentions':[_0x1b50ef]};_0x3676e3[_0x14e599(0x18e)](_0x355bca,_0x4a8b2b,{'quoted':_0x4b0aae});}}catch(_0x2608d1){_0x5d15e8('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20:'+_0x2608d1),console[_0x14e599(0x180)](_0x2608d1);}});};generateReactionCommand('bully','👊',a48_0x35fb8e(0x166),'taquiné(e)'),generateReactionCommand('cuddle','🤗','caliner',a48_0x35fb8e(0x186)),generateReactionCommand('cry','😢','pleurer',a48_0x35fb8e(0x16a)),generateReactionCommand('hug','😊',a48_0x35fb8e(0x15b),a48_0x35fb8e(0x19a)),generateReactionCommand('awoo','🐺',a48_0x35fb8e(0x15e),a48_0x35fb8e(0x15e)),generateReactionCommand('kiss','😘',a48_0x35fb8e(0x196),a48_0x35fb8e(0x184)),generateReactionCommand('lick','👅',a48_0x35fb8e(0x19c),a48_0x35fb8e(0x199)),generateReactionCommand(a48_0x35fb8e(0x17b),'👋','tapoter','tapoté(e)'),generateReactionCommand(a48_0x35fb8e(0x147),'😏',a48_0x35fb8e(0x174),a48_0x35fb8e(0x14f)),generateReactionCommand(a48_0x35fb8e(0x18c),'🔨','bonk','bonk'),generateReactionCommand('yeet','🚀',a48_0x35fb8e(0x16b),a48_0x35fb8e(0x15a)),generateReactionCommand(a48_0x35fb8e(0x167),'😊','rougir','rougi(e)\x20à'),generateReactionCommand('smile','😄','sourire',a48_0x35fb8e(0x151)),generateReactionCommand(a48_0x35fb8e(0x161),'👋','saluer','salué(e)'),generateReactionCommand('highfive','✋',a48_0x35fb8e(0x183),'fait\x20un\x20top-la\x20à'),generateReactionCommand(a48_0x35fb8e(0x148),'🤝',a48_0x35fb8e(0x170),'tenu(e)'),generateReactionCommand('nom','🍴',a48_0x35fb8e(0x18f),'mangé(e)'),generateReactionCommand('bite','🦷','mordre','mordu(e)'),generateReactionCommand(a48_0x35fb8e(0x187),'🤗',a48_0x35fb8e(0x177),'enlacé(e)'),generateReactionCommand('slap','👋',a48_0x35fb8e(0x149),a48_0x35fb8e(0x14b)),generateReactionCommand(a48_0x35fb8e(0x156),'💀','tuer',a48_0x35fb8e(0x146)),generateReactionCommand(a48_0x35fb8e(0x154),'🦵',a48_0x35fb8e(0x164),'donné(e)\x20un\x20coup\x20de\x20pied\x20a'),generateReactionCommand('happy','😄',a48_0x35fb8e(0x15d),a48_0x35fb8e(0x173)),generateReactionCommand('wink','😉','clin',a48_0x35fb8e(0x17f)),generateReactionCommand('poke','👉',a48_0x35fb8e(0x181),'pousser'),generateReactionCommand(a48_0x35fb8e(0x193),'💃','danser',a48_0x35fb8e(0x19d)),generateReactionCommand(a48_0x35fb8e(0x169),'😬','cringe','a\x20l\x27air\x20cringe\x20pour');